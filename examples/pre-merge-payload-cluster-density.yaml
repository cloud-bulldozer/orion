tests :
  - name : payload-cluster-density-v2
    index: {{ es_metadata_index }}
    benchmarkIndex: {{ es_benchmark_index }}
    metadata:
      platform: AWS
      clusterType: self-managed
      masterNodesType: m6a.xlarge
      masterNodesCount: 3
      workerNodesType: m6a.xlarge
      workerNodesCount: 6
      benchmark.keyword: cluster-density-v2
      ocpVersion: {{ version }}
      networkType: OVNKubernetes
      jobType: {{ jobtype | default('pull') }}
      not:
        stream: okd

    metrics :    
    - name:  ovnCPU
      metricName : containerCPU
      labels.namespace.keyword: openshift-ovn-kubernetes
      metric_of_interest: value
      agg:
        value: cpu
        agg_type: avg
      labels:
        - "[Jira: Networking / ovn-kubernetes]"
      direction: 1
      threshold: 10

    - name:  ovsCPU
      metricName : cgroupCPU
      metric_of_interest: value
      agg:
        value: cpu
        agg_type: avg
      labels:
        - "[Jira: Networking / ovn-kubernetes]"
      direction: 1
      threshold: 10

    - name:  ovsMemory
      metricName : cgroupMemoryRSS 
      metric_of_interest: value
      agg:
        value: mem
        agg_type: avg
      labels:
        - "[Jira: Networking / ovn-kubernetes]"

