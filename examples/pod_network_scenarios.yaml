tests:
  - name: krkn-hub-*
    index: krkn-telemetry*
    benchmarkIndex: krkn-metrics*
    version: cluster_version
    uuid_field: run_uuid
    metadata:
      cluster_version: "{{ version }}"
      scenarios.scenario_type: pod_network_scenarios
      cloud_infrastructure: AWS  # Options: AWS, IBMCloud, GCP, Azure, VSphere
      cloud_type: self-managed   # Options: self-managed, rosa
      total_node_count: 9
      node_summary_infos.instance_type: "*xlarge*"  # Matches: m6a.xlarge (masters), r5.xlarge (workers)
      network_plugins: OVNKubernetes
      scenarios.scenario: "*pod_network_scenario.yaml"
    metrics:
      # API Server metrics
      - name: api_inflight_requests
        metricName: APIInflightRequests
        metric_of_interest: value
        agg:
          value: value
          agg_type: max
      - name: api_request_rate
        metricName: APIRequestRate
        metric_of_interest: value
        agg:
          value: value
          agg_type: max

      # etcd metrics
      - name: etcd_99th_backend_commit_duration_seconds
        metricName: 99thEtcdDiskBackendCommitDurationSeconds
        metric_of_interest: value
        agg:
          value: value
          agg_type: avg
      - name: etcd_99th_wal_fsync_duration_seconds
        metricName: 99thEtcdDiskWalFsyncDurationSeconds
        metric_of_interest: value
        agg:
          value: value
          agg_type: avg
      - name: etcd_99th_round_trip_time_seconds
        metricName: 99thEtcdRoundTripTimeSeconds
        metric_of_interest: value
        agg:
          value: value
          agg_type: avg 